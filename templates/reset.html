{% extends "layout.html" %}

{% block title %}Reset Database{% endblock %}

{% block main %}
<div class="row justify-content-center">
    <div class="col-12 col-md-6">
        <div class="card neon-card text-center">
            <div class="card-body">
                <h1 class="title">Reset Database</h1>
                <p class="instructions-text">Clear all logs from the database.</p>

                <button class="btn btn-neon" id="resetBtn">Reset Database</button>
                <p id="message" class="message mt-3"></p>
            </div>
        </div>
    </div>
</div>

<script>
const resetBtn = document.getElementById('resetBtn');
const messageEl = document.getElementById('message');

resetBtn.addEventListener('click', async () => {
    if(!confirm('Are you sure you want to reset the database?')) return;

    const res = await fetch('/reset', { method: 'POST' });
    const data = await res.json();

    messageEl.textContent = data.message;
    setTimeout(() => window.location.href = '/', 1700);
});
</script>
{% endblock %}
